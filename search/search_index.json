{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Catalyst: A Modern, Declarative C++ Build System","text":"<p>WARNING: Catalyst is currently in early development. APIs and features are subject to change. NOTE: This documentation refers to binaries built from the 1.1.0 tag.</p> <p>Catalyst is a next-generation build system for C++ that aims to bring the ease of use of declarative configuration to the C++ ecosystem. It prioritizes declarative configuration, reproducibility, and developer experience.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Declarative Configuration: Define your project with simple YAML files. No more complex CMake scripting.</li> <li>Profile Composition: Mix and match build configurations (e.g., <code>debug</code>, <code>release</code>, <code>asan</code>) easily.</li> <li>Dependency Management: Built-in support for <code>vcpkg</code>, <code>git</code> repositories, local packages, and system libraries.</li> <li>Reproducible Builds: Designed for determinism and isolation.</li> <li>Modern C++ Support: Built for C++20 and beyond.</li> </ul>"},{"location":"#documentation","title":"Documentation","text":""},{"location":"#getting-started","title":"Getting Started","text":"<ul> <li>Installation</li> <li>Getting Started Guide</li> </ul>"},{"location":"#core-concepts","title":"Core Concepts","text":"<ul> <li>Configuration</li> <li>Profiles</li> <li>Dependencies</li> <li>Hooks</li> <li>Preprocessor &amp; Features</li> <li>catalystignore</li> </ul>"},{"location":"#cli-reference","title":"CLI Reference","text":"<ul> <li>Command Overview</li> <li>init</li> <li>add</li> <li>build</li> <li>run</li> <li>install</li> <li>test</li> <li>fetch</li> <li>generate</li> <li>clean</li> <li>fmt</li> <li>tidy</li> </ul>"},{"location":"cbe/","title":"CBE (Catalyst Build Executor)","text":"<p>CBE is a high-speed, low-level build orchestrator designed as a machine-generated target for higher-level meta-build systems, focusing on performance and dependency tracking.</p>"},{"location":"cbe/#the-catalystbuild-schema","title":"The <code>catalyst.build</code> Schema","text":"<p>The manifest uses a strict pipe-delimited, 3-column format.</p>"},{"location":"cbe/#definitions","title":"Definitions","text":"<p>Definitions configure the toolchain and must appear at the top of the file. Empty definitions use <code>DEF|&lt;var&gt;|</code>.</p> Variable Description <code>DEF\\|cc\\|&lt;val&gt;</code> The C compiler (e.g., <code>/usr/bin/clang</code>). <code>DEF\\|cxx\\|&lt;val&gt;</code> The C++ compiler (e.g., <code>/usr/bin/clang++</code>). <code>DEF\\|cflags\\|&lt;val&gt;</code> Flags for <code>cc</code> steps. <code>DEF\\|cxxflags\\|&lt;val&gt;</code> Flags for <code>cxx</code> steps. <code>DEF\\|ldflags\\|&lt;val&gt;</code> Linker search paths and general flags. <code>DEF\\|ldlibs\\|&lt;val&gt;</code> Libraries to link against (e.g., <code>-lpthread</code>)."},{"location":"cbe/#build-steps","title":"Build Steps","text":"<p>Format: <code>&lt;step_type&gt;|&lt;input_list&gt;|&lt;output_file&gt;</code></p> <ul> <li><code>step_type</code>: Tool mnemonic (see Toolchain Mapping).</li> <li><code>input_list</code>: Comma-separated files (e.g., <code>src/main.cpp,src/util.cpp</code>).</li> <li><code>output_file</code>: The generated file.</li> </ul> <p>Note: Future support for <code>.rsp</code> (response files) is planned for handling long input lists.</p>"},{"location":"cbe/#toolchain-mapping-dependencies","title":"Toolchain Mapping &amp; Dependencies","text":"<p>CBE manages dependency tracking (<code>.d</code> files) automatically.</p> Key Type Command Template <code>cc</code> C Compile <code>$cc $cflags -MMD -MF $out.d -c $in -o $out</code> <code>cxx</code> C++ Compile <code>$cxx $cxxflags -MMD -MF $out.d -c $in -o $out</code> <code>ld</code> Binary Link <code>$cxx $in -o $out $ldflags $ldlibs</code> <code>ar</code> Static Link <code>ar rcs $out $in</code> <code>sld</code> Shared Link <code>$cxx -shared $in -o $out</code> <p><code>cc</code> and <code>cxx</code> steps are expected to produce a sidecar <code>.d</code> file at <code>&lt;output_file&gt;.d</code> for dependency graph population.</p>"},{"location":"cbe/#example-catalystbuild","title":"Example <code>catalyst.build</code>","text":"<pre><code>DEF|cc|clang\nDEF|cxx|clang++\nDEF|cflags|\nDEF|cxxflags|-std=c++20 -O3\nDEF|ldflags|\nDEF|ldlibs|\ncxx|src/main.cpp|build/main.o\ncxx|src/net.cpp|build/net.o\nld|build/main.o,build/net.o|build/app\n</code></pre>"},{"location":"getting_started/","title":"Getting Started","text":"<p>This guide will walk you through creating, building, and running your first C++ project with Catalyst.</p>"},{"location":"getting_started/#1-initialize-a-project","title":"1. Initialize a Project","text":"<p>Create a new directory for your project and initialize it:</p> <pre><code>mkdir my-app\ncd my-app\ncatalyst init\n</code></pre> <p>This generates a basic project structure:</p> <ul> <li><code>catalyst.yaml</code>: The project configuration file.</li> <li><code>src/</code>: Directory for source files.<ul> <li><code>src/my-app.cpp</code>: A default entry point.</li> </ul> </li> <li><code>include/</code>: Directory for header files.</li> </ul>"},{"location":"getting_started/#2-build-the-project","title":"2. Build the Project","text":"<p>Run the build command:</p> <pre><code>catalyst build\n</code></pre> <p>This will: 1.  Generate build files (using Ninja (ensure this is installed)). 2.  Compile your source code. 3.  Link the executable.</p> <p>Artifacts are stored in the <code>build/</code> directory.</p>"},{"location":"getting_started/#3-run-the-application","title":"3. Run the Application","text":"<p>Execute the new binary:</p> <pre><code>catalyst run\n</code></pre> <p>You should see:</p> <pre><code>Hello, Catalyst!\n</code></pre>"},{"location":"getting_started/#next-steps","title":"Next Steps","text":"<ul> <li>Add Dependencies: Learn how to add libraries with <code>catalyst add</code>.</li> <li>Configure Profiles: Set up debug and release builds in Profiles.</li> <li>Explore Config: Check out the Configuration Guide.</li> </ul>"},{"location":"installation/","title":"Installation","text":"<p>Currently, Catalyst must be built from source.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>CMake: 3.20 or newer</li> <li>C++ Compiler: Clang 16+ or GCC 13+ (Must support C++23)</li> <li>Ninja: Recommended build backend</li> <li>Git</li> </ul>"},{"location":"installation/#building-from-source","title":"Building from Source","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/S-Spektrum-M/catalyst.git\ncd catalyst\n</code></pre> <ol> <li>Build the Bootstrap version using CMake:</li> </ol> <pre><code>git checkout tags/1.0.0\ncmake -B build-bootstrap -S . -DCMAKE_BUILD_TYPE=Release\ncmake --build build-bootstrap --config Release\n</code></pre> <ol> <li>Build Catalyst:</li> </ol> <pre><code>git checkout dev-1.1.0\nmkdir build\n./build-bootstrap/catalyst build\n</code></pre>"},{"location":"installation/#verifying-installation","title":"Verifying Installation","text":"<p>Run the following command to verify that Catalyst is installed correctly:</p> <pre><code>build/catalyst -v # should be 1.1.0\n</code></pre>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>Get Started.</li> </ul>"},{"location":"cli/","title":"CLI Command Reference","text":"<p>Catalyst provides a suite of subcommands to manage the entire project lifecycle.</p> Command Description <code>init</code> Initialize a new project or profile. <code>add</code> Add a dependency to the project. <code>build</code> Build the project. <code>run</code> Run the built executable. <code>test</code> Run project tests. <code>fetch</code> Fetch remote dependencies. <code>generate</code> Generate build scripts (Ninja). <code>install</code> Install build artifacts. <code>clean</code> Remove build artifacts. <code>download</code> Download, build, and install a project from git. <code>fmt</code> Format source code. <code>tidy</code> Run static analysis."},{"location":"cli/#global-options","title":"Global Options","text":"<p>These options apply to all commands:</p> <ul> <li><code>-v, --version</code>: Print version information.</li> <li><code>-V, --verbose</code>: Enable verbose logging (debug output).</li> <li><code>-h, --help</code>: Print help message.</li> </ul>"},{"location":"cli/add/","title":"catalyst add","text":"<pre><code>add a dependency\nUsage: catalyst add [OPTIONS] [SUBCOMMAND]\n\nOptions:\n  -h,--help                   Print this help message and exit\n\nSubcommands:\n  git                         add a remote git dependency\n  system                      add a system dependency\n  local                       add a local dependency\n  vcpkg                       add a vcpkg dependency\n</code></pre>"},{"location":"cli/add/#git","title":"git","text":"<pre><code>add a remote git dependency\nUsage: catalyst add git [OPTIONS] [remote]\n\nPositionals:\n  remote TEXT\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -n,--name TEXT\n  -v,--version TEXT [latest]\n  -f,--features TEXT ...\n  -p,--profiles TEXT ...\n</code></pre>"},{"location":"cli/add/#system","title":"system","text":"<pre><code>add a system dependency\nUsage: catalyst add system [OPTIONS] name\n\nPositionals:\n  name TEXT REQUIRED\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -l,--lib TEXT\n  -i,--inc TEXT\n  -p,--profiles TEXT ...\n</code></pre>"},{"location":"cli/add/#local","title":"local","text":"<pre><code>add a local dependency\nUsage: catalyst add local [OPTIONS] name path\n\nPositionals:\n  name TEXT REQUIRED\n  path TEXT REQUIRED\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -p,--profiles TEXT ...\n  -f,--features TEXT ...\n</code></pre>"},{"location":"cli/add/#vcpkg","title":"vcpkg","text":"<pre><code>add a vcpkg dependency\nUsage: catalyst add vcpkg [OPTIONS] name\n\nPositionals:\n  name TEXT REQUIRED\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -t,--triplet TEXT REQUIRED\n  -v,--version TEXT [latest]\n  -p,--profiles TEXT [[common]]  ...\n  -f,--features TEXT ...\n</code></pre>"},{"location":"cli/add/#examples","title":"Examples","text":"<pre><code># Add fmt from git\ncatalyst add git https://github.com/fmtlib/fmt.git -v 10.1.0\n\n# Add fmt from vcpkg\ncatalyst add vcpkg fmt -t x64-linux\n\n# Add a local library to the debug profile\ncatalyst add local my-lib ../libs/my-lib -p debug\n</code></pre>"},{"location":"cli/build/","title":"catalyst build","text":"<pre><code>build the project\nUsage: catalyst build [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -r,--no-regen               regenerate the build file\n  --force-rebuild             recompile dependencies\n  --force-refetch             refetch dependencies\n  -p,--profiles TEXT ...      \n  -f,--features TEXT ...      \n</code></pre>"},{"location":"cli/build/#examples","title":"Examples","text":"<p>Standard build:</p> <pre><code>catalyst build\n</code></pre> <p>Debug build:</p> <pre><code>catalyst build --profiles debug\n</code></pre> <p>Force clean build:</p> <pre><code>catalyst build --force-rebuild\n</code></pre>"},{"location":"cli/clean/","title":"catalyst clean","text":"<pre><code>clean a dependency\nUsage: catalyst clean [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -p,--profile TEXT ...       \n</code></pre>"},{"location":"cli/clean/#examples","title":"Examples","text":"<pre><code>catalyst clean\ncatalyst clean --profile debug\n</code></pre>"},{"location":"cli/download/","title":"catalyst download","text":"<pre><code>Install a catalyst configured package from git.\nUsage: catalyst download [OPTIONS] remote [branch]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  remote TEXT REQUIRED        the remote to clone\n  branch TEXT                 the branch to clone\n  -p,--profiles TEXT ...      the profiles to compose in the build artifact (default: common)\n  -f,--features TEXT ...      the features to enable in the build\n  -t,--target TEXT REQUIRED   the path to install to\n</code></pre>"},{"location":"cli/download/#details","title":"Details","text":"<p>The <code>download</code> command automates the process of fetching a Catalyst-based project from a Git repository, building it, and installing it to a specified location. It essentially performs the following steps:</p> <ol> <li>Clone: Clones the specified git repository to a temporary directory.</li> <li>Build: Runs <code>catalyst build</code> on the cloned project with the specified profiles and features.</li> <li>Install: Installs the build artifacts to the target directory.</li> <li>Cleanup: Removes the temporary directory.</li> </ol>"},{"location":"cli/download/#examples","title":"Examples","text":"<p>Download and install a project to a local <code>bin</code> directory:</p> <pre><code>catalyst download https://github.com/user/repo.git --target ./bin\n</code></pre> <p>Download a specific branch with specific features enabled:</p> <pre><code>catalyst download https://github.com/user/repo.git develop --target /usr/local --features extra_feature\n</code></pre> <p>Download with custom profiles:</p> <pre><code>catalyst download https://github.com/user/repo.git --target ./dist --profiles release optimization\n</code></pre>"},{"location":"cli/fetch/","title":"catalyst fetch","text":"<pre><code>fetch all dependencies for a profile\nUsage: catalyst fetch [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  --profiles TEXT ...         \n</code></pre>"},{"location":"cli/fetch/#details","title":"Details","text":"<p>This command is usually run automatically by <code>catalyst build</code>, but can be run manually to prepare the environment (e.g., in CI/CD pipelines).</p> <ul> <li>Git: Clones repositories.</li> <li>Vcpkg: Installs packages.</li> <li>System: Verifies presence via pkg-config.</li> </ul>"},{"location":"cli/fetch/#examples","title":"Examples","text":"<pre><code>catalyst fetch\ncatalyst fetch --profiles debug\n</code></pre>"},{"location":"cli/fmt/","title":"catalyst fmt","text":"<pre><code>format the project files.\nUsage: catalyst fmt [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n</code></pre>"},{"location":"cli/fmt/#details","title":"Details","text":"<p>Expects a <code>.clang-format</code> file in the project root. It will recursively format all C/C++ files in the source directories.</p>"},{"location":"cli/generate/","title":"catalyst generate","text":"<pre><code>generate a build script\nUsage: catalyst generate [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -p,--profiles TEXT ...      \n  -f,--features TEXT ...      \n</code></pre>"},{"location":"cli/generate/#details","title":"Details","text":"<p>This command translates the declarative YAML configuration into a concrete Ninja build plan. It resolves source files, include paths, compile flags, and dependency links. It is typically invoked automatically by <code>catalyst build</code>.</p>"},{"location":"cli/init/","title":"catalyst init","text":"<pre><code>Initialize a new catalyst profile.\n\nUsage: catalyst init [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -n,--name TEXT              the name of the project\n  --path TEXT                 the default path for the project\n  -t,--type ENUM:value in {binary-&gt;0,interface-&gt;3,sharedlib-&gt;2,staticlib-&gt;1} OR {0,3,2,1}\n                              the project type\n  -v,--version TEXT           the project's version\n  -d,--description TEXT       a description for the project\n  --provides TEXT             a list of provided libraries for this project.\n  --cc TEXT                   the c compiler to use\n  --cxx TEXT                  the cxx compiler to use\n  --ccflags TEXT              c compiler flags\n  --cxxflags TEXT             cxx compiler flags\n  --include-dirs TEXT ...     include directories\n  --source-dirs TEXT ...      source directories\n  --build-dir TEXT            build directory\n  -p,--profile TEXT           the profile to initialize\n</code></pre>"},{"location":"cli/init/#examples","title":"Examples","text":"<p>Create a basic binary project:</p> <pre><code>catalyst init --name my-tool\n</code></pre> <p>Create a library with specific compilers:</p> <pre><code>catalyst init --name my-lib --type staticlib --cxx g++-13\n</code></pre> <p>Create a debug profile:</p> <pre><code>catalyst init --profile debug --cxxflags \"-g -O0\"\n</code></pre>"},{"location":"cli/install/","title":"catalyst install","text":"<pre><code>Install the build artifacts\nUsage: catalyst install [OPTIONS] --target &lt;path&gt;\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -p,--profiles TEXT ...      The profiles to compose in the build artifact (default: common)\n  -s,--source TEXT            The source path of the project to build (default: current directory)\n  -t,--target TEXT            The path to install to (REQUIRED)\n</code></pre>"},{"location":"cli/install/#description","title":"Description","text":"<p>The <code>install</code> command copies the built artifacts (executables, libraries) and public headers to a specified installation directory. It organizes them into standard subdirectories (<code>bin/</code>, <code>lib/</code>, <code>include/</code>) within the target path.</p> <p>You must run <code>catalyst build</code> before running <code>catalyst install</code>.</p>"},{"location":"cli/install/#examples","title":"Examples","text":"<p>Install to a local <code>dist</code> folder:</p> <pre><code>catalyst install --target ./dist\n</code></pre> <p>Install a debug build:</p> <pre><code>catalyst install --target ./dist --profiles debug\n</code></pre> <p>Install from a specific source directory:</p> <pre><code>catalyst install --source ./my-project --target /opt/my-project\n</code></pre>"},{"location":"cli/run/","title":"catalyst run","text":"<pre><code>run a dependency\nUsage: catalyst run [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -p,--profile TEXT [common]  \n  -P,--params TEXT ...        \n</code></pre>"},{"location":"cli/run/#examples","title":"Examples","text":"<p>Run the default build:</p> <pre><code>catalyst run\n</code></pre> <p>Run the debug build with arguments:</p> <pre><code>catalyst run --profile debug --params \"--verbose --input data.txt\"\n</code></pre>"},{"location":"cli/test/","title":"catalyst test","text":"<pre><code>test the project\nUsage: catalyst test [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -P,--params TEXT ...        \n</code></pre>"},{"location":"cli/test/#examples","title":"Examples","text":"<pre><code>catalyst test\ncatalyst test --params \"--gtest_filter=MyTest.*\"\n</code></pre>"},{"location":"cli/tidy/","title":"catalyst tidy","text":"<pre><code>run linting\nUsage: catalyst tidy [OPTIONS]\n\nOptions:\n  -h,--help                   Print this help message and exit\n  -p,--profiles TEXT ...      \n</code></pre>"},{"location":"cli/tidy/#details","title":"Details","text":"<p>This helps identify potential bugs, stylistic issues, and performance improvements.</p>"},{"location":"concepts/catalystignore/","title":"<code>.catalystignore</code>","text":"<p>The <code>.catalystignore</code> file allows you to exclude specific source files from the build based on the active profiles. This is useful for excluding platform-specific code, tests, or benchmarks from certain build types.</p>"},{"location":"concepts/catalystignore/#location","title":"Location","text":"<p>A <code>.catalystignore</code> file should be placed at the root of any directory listed in your <code>manifest.dirs.source</code> (as defined in <code>catalyst.yaml</code>).</p>"},{"location":"concepts/catalystignore/#format","title":"Format","text":"<p>The file uses YAML syntax. Top-level keys correspond to profile names, and their values are lists of regular expression patterns to ignore.</p> <pre><code># src/.catalystignore\ndebug:\n  - \"test_.*.cpp\"\n  - \".*_benchmark.cpp\"\n\nrelease:\n  - \".*_debug.cpp\"\n\nlinux:\n  - \".*_win32.cpp\"\n</code></pre>"},{"location":"concepts/catalystignore/#how-it-works","title":"How it Works","text":"<ol> <li> <p>Profile-Based Filtering: Catalyst only applies the ignore patterns for the profiles that are explicitly passed to the <code>build</code> or <code>generate</code> commands via the <code>--profiles</code> (or <code>-p</code>) flag.     Note: Currently, patterns defined under a <code>common</code> key in <code>.catalystignore</code> are only applied if <code>common</code> is explicitly passed to <code>--profiles</code>.</p> </li> <li> <p>Regex Matching: Patterns are treated as regular expressions. They are matched against the filename of each source file, not the full path. For example, the pattern <code>test_.*\\.cpp</code> will match <code>src/test_main.cpp</code> but it won't match <code>src/tests/main.cpp</code> if you were trying to match the directory name (because it only matches against the filename <code>main.cpp</code>).</p> </li> <li> <p>Recursive Search: Catalyst recursively searches your source directories for files. The patterns defined in the <code>.catalystignore</code> at the root of a source directory apply to all files within that directory and its subdirectories.</p> </li> <li> <p>Automatic Inclusion: By default, Catalyst only considers files with the following extensions as source files:</p> <ul> <li><code>.cpp</code>, <code>.cxx</code>, <code>.cc</code></li> <li><code>.c</code></li> <li><code>.cu</code>, <code>.cupp</code> (CUDA)</li> </ul> <p><code>.catalystignore</code> filters this set of files further.</p> </li> </ol>"},{"location":"concepts/catalystignore/#example","title":"Example","text":"<p>Suppose you have the following project structure:</p> <pre><code>my-project/\n\u251c\u2500\u2500 catalyst.yaml\n\u2514\u2500\u2500 src/\n    \u251c\u2500\u2500 .catalystignore\n    \u251c\u2500\u2500 main.cpp\n    \u251c\u2500\u2500 util.cpp\n    \u251c\u2500\u2500 util_linux.cpp\n    \u2514\u2500\u2500 util_win32.cpp\n</code></pre> <p>And <code>src/.catalystignore</code> contains:</p> <pre><code>linux:\n  - \".*_win32.cpp\"\nwindows:\n  - \".*_linux.cpp\"\n</code></pre> <p>If you build with <code>--profiles linux</code>, the file <code>util_win32.cpp</code> will be excluded from the build.</p>"},{"location":"concepts/configuration/","title":"Configuration","text":"<p>Catalyst projects are configured using YAML files. The primary configuration file is <code>catalyst.yaml</code>, which defines the <code>common</code> profile. Additional profiles can be defined in <code>catalyst_&lt;profile&gt;.yaml</code> files.</p>"},{"location":"concepts/configuration/#schema-overview","title":"Schema Overview","text":"<p>A Catalyst profile configuration consists of several top-level sections:</p> <pre><code>meta:        # Catalyst-specific metadata\nmanifest:    # Project identity and structure\ndependencies:# External packages\nfeatures:    # Feature flags\nhooks:       # Lifecycle scripts\n</code></pre>"},{"location":"concepts/configuration/#meta","title":"<code>meta</code>","text":"<p>Defines constraints for the Catalyst tool itself.</p> Field Type Default Description <code>min_ver</code> String <code>0.0.0</code> Minimum Catalyst version required to build the project. <code>generator</code> String <code>cbe</code> The generator to use. Currently supported: <code>cbe, ninja</code>"},{"location":"concepts/configuration/#manifest","title":"<code>manifest</code>","text":"<p>Defines the project's identity, build settings, and directory structure.</p> Field Type Default Description <code>name</code> String (Current Dir) Project name. Must be unique in a workspace. <code>type</code> String <code>BINARY</code> Artifact type: <code>BINARY</code>, <code>STATICLIB</code>, <code>SHAREDLIB</code>, <code>INTERFACE</code>. <code>version</code> String <code>0.0.1</code> Project version string. <code>description</code> String ... Human-readable description. <code>provides</code> String - Output artifact name pattern (e.g., <code>*.so</code>). <code>tooling</code> Object - Compiler toolchain overrides. <code>dirs</code> Object - Source and build directory configuration."},{"location":"concepts/configuration/#manifesttooling","title":"<code>manifest.tooling</code>","text":"Field Description Default <code>CC</code> C Compiler <code>clang</code> <code>CXX</code> C++ Compiler <code>clang++</code> <code>CCFLAGS</code> C Compiler Flags \"\" <code>CXXFLAGS</code> C++ Compiler Flags \"\""},{"location":"concepts/configuration/#manifestdirs","title":"<code>manifest.dirs</code>","text":"Field Description Default <code>include</code> List of include directories <code>[include]</code> <code>source</code> List of source directories <code>[src]</code> <code>build</code> Output directory <code>build</code> <p>Note: <code>dirs.source</code> is recursive. Use <code>.catalystignore</code> to exclude files.</p>"},{"location":"concepts/configuration/#dependencies","title":"<code>dependencies</code>","text":"<p>A list of dependencies. See Dependencies for detailed schema.</p> <pre><code>dependencies:\n    - name: fmt\n      source: git\n      url: https://github.com/fmtlib/fmt.git\n      version: 8.1.1\n</code></pre>"},{"location":"concepts/configuration/#features","title":"<code>features</code>","text":"<p>Defines boolean feature flags that can be toggled via profiles or CLI. Enabling a feature defines a preprocessor macro.</p> <pre><code>features:\n    - logging: true\n    - networking: false\n</code></pre> <p>See Preprocessor &amp; Features for details.</p>"},{"location":"concepts/configuration/#hooks","title":"<code>hooks</code>","text":"<p>Defines scripts to run at specific build lifecycle stages.</p> <pre><code>hooks:\n  pre-build:\n    - command: \"echo 'Starting build...'\"\n</code></pre> <p>See Hooks for the full list of available hooks.</p>"},{"location":"concepts/dependencies/","title":"Dependencies","text":"<p>Catalyst provides built-in dependency management supporting multiple sources. Dependencies are defined in the <code>dependencies</code> list within your profile configuration.</p>"},{"location":"concepts/dependencies/#supported-sources","title":"Supported Sources","text":""},{"location":"concepts/dependencies/#1-git","title":"1. <code>git</code>","text":"<p>Fetches a library from a remote Git repository.</p> Field Required Description <code>name</code> Yes Name of the dependency. <code>source</code> Yes Must be <code>git</code>. <code>url</code> Yes Git repository URL. <code>version</code> Yes Tag, branch, or commit hash. <code>using</code> No List of features to enable. <pre><code>- name: fmt\n  source: git\n  url: https://github.com/fmtlib/fmt.git\n  version: 10.0.0\n</code></pre>"},{"location":"concepts/dependencies/#2-vcpkg","title":"2. <code>vcpkg</code>","text":"<p>Uses <code>vcpkg</code> to satisfy the dependency.</p> Field Required Description <code>name</code> Yes Package name in vcpkg. <code>source</code> Yes Must be <code>vcpkg</code>. <code>version</code> No Package version. <code>triplet</code> No vcpkg triplet (e.g., <code>x64-linux</code>). <code>using</code> No List of features to enable. <pre><code>- name: nlohmann-json\n  source: vcpkg\n  version: 3.11.2\n</code></pre>"},{"location":"concepts/dependencies/#3-local","title":"3. <code>local</code>","text":"<p>Builds a dependency found on the local filesystem.</p> Field Required Description <code>name</code> Yes Name of the dependency. <code>source</code> Yes Must be <code>local</code>. <code>path</code> Yes Path to the dependency root. <code>profiles</code> No Profiles to build the dependency with. <pre><code>- name: my-lib\n  source: local\n  path: ../libs/my-lib\n</code></pre>"},{"location":"concepts/dependencies/#4-system","title":"4. <code>system</code>","text":"<p>Uses <code>pkg-config</code> to find a system-installed library.</p> Field Required Description <code>name</code> Yes Name (must match <code>pkg-config</code> name). <code>source</code> Yes Must be <code>system</code>. <code>lib</code> No Explicit library path override. <code>include</code> No Explicit include path override. <pre><code>- name: openssl\n  source: system\n</code></pre>"},{"location":"concepts/dependencies/#adding-dependencies-via-cli","title":"Adding Dependencies via CLI","text":"<p>You can use the <code>catalyst add</code> command to append dependencies to your configuration without editing YAML manually.</p> <pre><code>catalyst add git https://github.com/fmtlib/fmt.git -v 10.0.0\ncatalyst add vcpkg nlohmann-json -t x64-linux\n</code></pre>"},{"location":"concepts/hooks/","title":"Hooks","text":"<p>Catalyst provides a hook system that allows you to execute custom commands or scripts at various points in the build process. This enables you to extend and customize your build workflow to fit your project's specific needs.</p>"},{"location":"concepts/hooks/#configuring-hooks","title":"Configuring Hooks","text":"<p>You can define hooks in your <code>catalyst.yaml</code> or any profile-specific <code>catalyst_*.yaml</code> file. Hooks are defined under the <code>hooks</code> key. You can specify a single command or a list of commands to execute for each hook.</p> <p>Example <code>catalyst.yaml</code>:</p> <pre><code>hooks:\n  pre-build:\n    - command: \"echo 'Starting build...'\"\n  post-build:\n    - command: \"echo 'Build finished!'\"\n    - script: \"scripts/notify.sh\"\n  on-build-failure:\n    - command: \"echo 'Build failed!'\"\n\n</code></pre>"},{"location":"concepts/hooks/#available-hooks","title":"Available Hooks","text":"<p>Here is a comprehensive list of the available hooks in Catalyst, organized by when they are triggered.</p>"},{"location":"concepts/hooks/#global-hooks","title":"Global Hooks","text":"<p>These hooks are triggered for every build and provide a way to execute commands at the very beginning and end of the build process.</p> Hook Description <code>pre-build</code> Runs once before the entire build process begins (before <code>generate</code>, <code>fetch</code>, and <code>build</code>). <code>post-build</code> Runs once after the entire build process has successfully completed. <code>on-build-failure</code> Runs if the build fails at any stage. This is useful for logging, sending notifications, or reverting changes."},{"location":"concepts/hooks/#subcommand-hooks","title":"Subcommand Hooks","text":"<p>These hooks are specific to individual Catalyst subcommands, allowing you to customize the behavior of each command.</p>"},{"location":"concepts/hooks/#generate","title":"<code>generate</code>","text":"Hook Description <code>pre-generate</code> Runs before the build file is generated. <code>post-generate</code> Runs after the build file is generated."},{"location":"concepts/hooks/#fetch","title":"<code>fetch</code>","text":"Hook Description <code>pre-fetch</code> Runs before any dependencies are fetched. <code>post-fetch</code> Runs after all dependencies have been fetched."},{"location":"concepts/hooks/#clean","title":"<code>clean</code>","text":"Hook Description <code>pre-clean</code> Runs before the project is cleaned. <code>post-clean</code> Runs after the project has been cleaned."},{"location":"concepts/hooks/#run","title":"<code>run</code>","text":"Hook Description <code>pre-run</code> Runs before the target is executed. <code>post-run</code> Runs after the target has been executed."},{"location":"concepts/hooks/#test","title":"<code>test</code>","text":"Hook Description <code>pre-test</code> Runs before the tests are executed. <code>post-test</code> Runs after the tests have been executed."},{"location":"concepts/hooks/#target-specific-hooks","title":"Target-Specific Hooks","text":"<p>[!NOTE] Not Yet Implemented.</p> <p>These hooks can be defined within a specific build target's configuration, allowing for fine-grained control over the build process for individual targets.</p> Hook Description <code>pre-link</code> Runs before the target is linked. This can be useful for pre-link steps. <code>post-link</code> Runs after the target is linked. This can be useful for post-link steps."},{"location":"concepts/hooks/#file-specific-hooks","title":"File-Specific Hooks","text":"<p>[!NOTE] Not Yet Implemented.</p> <p>These hooks are triggered when a specific file is processed, allowing for custom actions on a per-file basis.</p> Hook Description <code>on-compile</code> Runs when a specific source file is compiled. This can be useful for custom pre-processing or code generation."},{"location":"concepts/preprocessor/","title":"Preprocessor Variables &amp; Features","text":"<p>Catalyst integrates tightly with the C++ preprocessor to pass build information and feature flags into your code.</p>"},{"location":"concepts/preprocessor/#catalyst-defined-macros","title":"Catalyst-Defined Macros","text":"<p>These macros are automatically defined by Catalyst during compilation.</p> Macro Description <code>CATALYST_BUILD_SYS</code> Always defined. Indicates the code is being built by Catalyst. <code>CATALYST_PROJ_NAME</code> The project name (from <code>manifest.name</code>). <code>CATALYST_PROJ_VER</code> The project version (from <code>manifest.version</code>)."},{"location":"concepts/preprocessor/#feature-flags","title":"Feature Flags","text":"<p>[!NOTE] Read build subcommand docs for info on how to dynamically enable or disable features.</p> <p>Features defined in <code>catalyst.yaml</code> map directly to preprocessor macros.</p> <p>Configuration:</p> <pre><code>manifest:\n  name: my_app\nfeatures:\n  - logging: true\n  - gui: false\n</code></pre> <p>Generated Macros: - <code>FF_my_app__logging</code> (Defined as <code>1</code>) - <code>FF_my_app__gui</code> (Defined as <code>0</code>)</p> <p>Usage in Code:</p> <pre><code>#if FF_my_app__logging\n    log(\"This is logged.\");\n#endif\n</code></pre>"},{"location":"concepts/preprocessor/#custom-flags","title":"Custom Flags","text":"<p>You can define arbitrary macros in the <code>tooling</code> section:</p> <pre><code>manifest:\n  tooling:\n    CXXFLAGS: \"-DENABLE_EXPERIMENTAL\"\n</code></pre>"},{"location":"concepts/profiles/","title":"Profiles","text":"<p>Profiles are a core concept in Catalyst, allowing you to define different build configurations (e.g., Debug, Release, Testing) and compose them together.</p>"},{"location":"concepts/profiles/#defining-profiles","title":"Defining Profiles","text":"<ul> <li><code>catalyst.yaml</code>: Defines the base <code>common</code> profile.</li> <li><code>catalyst_&lt;name&gt;.yaml</code>: Defines a profile named <code>&lt;name&gt;</code>.</li> </ul>"},{"location":"concepts/profiles/#example","title":"Example","text":"<p><code>catalyst.yaml</code> (common)</p> <pre><code>manifest:\n  name: my-app\n  version: 1.0.0\n</code></pre> <p><code>catalyst_debug.yaml</code> (debug)</p> <pre><code>manifest:\n  tooling:\n    CXXFLAGS: \"-g -O0 -DDEBUG\"\n</code></pre> <p><code>catalyst_release.yaml</code> (release)</p> <pre><code>manifest:\n  tooling:\n    CXXFLAGS: \"-O3 -DNDEBUG\"\n</code></pre>"},{"location":"concepts/profiles/#composition","title":"Composition","text":"<p>Catalyst allows you to compose profiles by listing them. Settings are merged from left to right, with later profiles overriding earlier ones.</p> <pre><code>catalyst build --profiles debug release\n</code></pre> <p>In this example: 1.  Start with <code>common</code>. 2.  Merge <code>debug</code> settings. 3.  Merge <code>release</code> settings (overriding <code>debug</code> where conflicts occur).</p> <p>This allows for powerful combinations like <code>linux + debug + asan</code>.</p>"},{"location":"concepts/profiles/#nulling-fields","title":"Nulling Fields","text":"<p>To unset a value inherited from a previous profile, set it to <code>null</code>.</p> <pre><code># catalyst_custom.yaml\nmeta: null  # Removes 'meta' section entirely\n</code></pre>"},{"location":"concepts/profiles/#reserved-profiles","title":"Reserved Profiles","text":"<ul> <li><code>common</code>: The base profile (<code>catalyst.yaml</code>).</li> <li><code>test</code>: Automatically used by <code>catalyst test</code> (<code>catalyst_test.yaml</code>).</li> </ul>"}]}